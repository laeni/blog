<% if (theme.cover.enable) { %>
    <section class="cover">
        <% if (theme.github.enable && theme.github.url){ %>
        <%# "GitHub Ribbons" %>
        <a class="forkMe" href="<%= theme.github.url %>"
           target="_blank"><img width="149" height="149" src="<%- url_for('images/forkme.png') %>"
                                class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
        <% } %>
        <div class="cover-frame">
            <div class="bg-box">
                <img src="<%- theme.cover.path %>" alt="image frame"/>
            </div>
            <div class="cover-inner text-center text-white">
                <h1><a href="<%- url_for() %>"><%= config.title %></a></h1>
                <div id="subtitle-box">
                    <% if (theme.subtitle.enable) { %>
                        <span id="subtitle"></span>
                    <% }else{ %>
                        <span id="subtitle"></span>
                        <script type="text/javascript">
                          fetch('https://v1.hitokoto.cn')
                                  .then(response => response.json())
                                  .then(data => {
                                    document.getElementById("subtitle").innerHTML = data.hitokoto;
                                  })
                                  .catch(console.error)
                        </script>
                      <% } %>
                </div>
                <div>
                    <% if (theme.cover.logo) { %>
                        <img
                                src="<%- theme.cover.logo %>"
                                class="cover-logo"
                                alt="<%= config.title %>"
                        />
                    <% } %>
                </div>
            </div>
        </div>
        <div class="cover-learn-more">
            <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
        </div>
    </section>
<% } %>

<% if (theme.subtitle.enable){ %>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>
<% } %>

<!-- Subtitle -->
<% if (theme.subtitle.enable){ %>
    <script>
        (async () => {
            try {
                const strArr = [];
                const length = 2
                for (let i = 0; i < length; i++) {
                    fetch('https://v1.hitokoto.cn').then(response => response.json()).then(data => {
                        strArr.push(data.hitokoto);

                        if (strArr.length === length) {
                            new Typed("#subtitle", {
                                strings: strArr,
                                startDelay: <%= theme.subtitle.startDelay %>,
                                typeSpeed: <%= theme.subtitle.typeSpeed %>,
                                loop: <%= theme.subtitle.loop %>,
                                backSpeed: <%= theme.subtitle.backSpeed %>,
                                showCursor: <%= theme.subtitle.showCursor %>
                            });
                        }
                    }).catch(console.error)
                }
            } catch (err) {
                console.log(err)
            }
        })()
    </script>
<% } %>
