<%#
 首页第一页大图.
%>
<% if (theme.cover.enable) { %>
    <section class="cover">
        <%# GitHub 项目地址 %>
        <% if (theme.github.enable && theme.github.url){ %>
        <a class="forkMe" href="<%= theme.github.url %>" target="_blank">
            <img width="149" height="149" src="<%- url_for('images/forkme.png') %>" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1">
        </a>
        <% } %>

        <div class="cover-frame">
            <div class="bg-box">
                <img src="<%- theme.cover.path %>" alt="image frame"/>
            </div>
            <div class="cover-inner text-center text-white">
                <h1><%= config.title %></h1>
                <div id="subtitle-box">
                    <% if (theme.subtitle.enable) { %>
                        <span id="subtitle"></span>
                    <% }else{ %>
                        <span id="subtitle"></span>
                        <script type="text/javascript">
                          fetch('https://v1.hitokoto.cn')
                                  .then(response => response.json())
                                  .then(data => {
                                    document.getElementById("subtitle").innerHTML = data.hitokoto;
                                  })
                                  .catch(console.error)
                        </script>
                      <% } %>
                </div>
                <div>
                    <% if (theme.cover.logo) { %>
                        <img
                                src="<%- theme.cover.logo %>"
                                class="cover-logo"
                                alt="<%= config.title %>"
                        />
                    <% } %>
                </div>
            </div>
        </div>
        <div class="cover-learn-more">
            <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
        </div>
    </section>
<% } %>

<%# Subtitle(二级标题),这里使用一言api随机生成名言名句 %>
<% if (theme.subtitle.enable){ %>
    <%- js('/js/typed-2.0.11.min') %>
<% } %>
<% if (theme.subtitle.enable){ %>
    <script>
        (async () => {
            try {
                const strArr = [];
                const length = <%= theme.subtitle.length %>;
                for (let i = 0; i < length; i++) {
                    fetch('https://v1.hitokoto.cn').then(response => response.json()).then(data => {
                        strArr.push(data.hitokoto);

                        if (strArr.length === length) {
                            new Typed("#subtitle", {
                                strings: strArr,
                                startDelay: <%= theme.subtitle.startDelay %>,
                                typeSpeed: <%= theme.subtitle.typeSpeed %>,
                                loop: <%= theme.subtitle.loop %>,
                                backSpeed: <%= theme.subtitle.backSpeed %>,
                                showCursor: <%= theme.subtitle.showCursor %>
                            });
                        }
                    }).catch(console.error)
                }
            } catch (err) {
                console.log(err)
            }
        })()
    </script>
<% } %>
